// Configuration options
{
	"inputDirectory":"/work-zfs/lhc/heshy/anomalouscouplings/Summer2015_VBF/maketemplates/step4_withdiscriminants/",
	"outputFile":"test_templatesAdapSmoothMirror.root",
	// template definitions
	"templates":[
		// template 0+ no mirror
		{
			"name":"template0PlusAdapSmooth",
			"files":[
				"ggH0+_0.root",
				"ggH0+_1.root",
				"ggH0+_2.root",
				"ggH0+_3.root",
				"ggH0+_4.root",
				"ggH0-_0.root",
				"ggH0-_1.root",
				"ggH0-_2.root",
				"ggH0-_3.root",
				"ggHL1_0.root",
				"ggHL1_1.root",
				"ggHL1_2.root",
				"ggHL1_3.root",
				"ggHL1_4.root",
				"ggHa2_0.root",
				"ggHa2_1.root",
				"ggHa2_2.root",
				"ggHa2_3.root",
				"ggHa2_4.root",
				"ggHfL10.5_0.root",
				"ggHfL10.5_1.root",
				"ggHfL10.5_2.root",
				"ggHfL10.5_3.root",
				"ggHfL10.5_4.root",
				"ggHfa20.5_0.root",
				"ggHfa20.5_1.root",
				"ggHfa20.5_2.root",
				"ggHfa20.5_3.root",
				"ggHfa20.5_4.root",
				"ggHfa30.5_0.root",
				"ggHfa30.5_1.root",
				"ggHfa30.5_2.root",
				"ggHfa30.5_3.root"
				],
			"tree":"SelectedTree",
			"variables":["D_0minus_decay","D_CP_decay","D_bkg_0plus"],
			"weight":"MC_weight_ggH_g1",
			"selection":"ZZMass>105 && ZZMass<140",
			"binning":{
				"type":"fixed",
				"bins":[50,0.,1.,50,-0.5,0.5,50,0.,1.]
			},
			"conserveSumOfWeights":true,
			"postprocessing":[
				{"type":"smooth", "kernel":"adaptive", "entriesperbin":50},
				{"type":"reweight", "axes":[0,1,2]}
			]
		},
		// template 0+ mirror
		{
			"name":"template0PlusAdapSmoothMirror",
			"templatesum":[
				{"name":"template0PlusAdapSmooth","factor":1.}
			],
			"postprocessing":[
				{"type":"mirror", "axis":1},
				{"type":"floor"}
			]
		},
		// template 0- no mirror
		{
			"name":"template0MinusAdapSmooth",
			"files":[
				"ggH0+_0.root",
				"ggH0+_1.root",
				"ggH0+_2.root",
				"ggH0+_3.root",
				"ggH0+_4.root",
				"ggH0-_0.root",
				"ggH0-_1.root",
				"ggH0-_2.root",
				"ggH0-_3.root",
				"ggHL1_0.root",
				"ggHL1_1.root",
				"ggHL1_2.root",
				"ggHL1_3.root",
				"ggHL1_4.root",
				"ggHa2_0.root",
				"ggHa2_1.root",
				"ggHa2_2.root",
				"ggHa2_3.root",
				"ggHa2_4.root",
				"ggHfL10.5_0.root",
				"ggHfL10.5_1.root",
				"ggHfL10.5_2.root",
				"ggHfL10.5_3.root",
				"ggHfL10.5_4.root",
				"ggHfa20.5_0.root",
				"ggHfa20.5_1.root",
				"ggHfa20.5_2.root",
				"ggHfa20.5_3.root",
				"ggHfa20.5_4.root",
				"ggHfa30.5_0.root",
				"ggHfa30.5_1.root",
				"ggHfa30.5_2.root",
				"ggHfa30.5_3.root"
				],
			"tree":"SelectedTree",
			"variables":["D_0minus_decay","D_CP_decay","D_bkg_0plus"],
			"weight":"MC_weight_ggH_g4",
			"selection":"ZZMass>105 && ZZMass<140",
			"binning":{
				"type":"fixed",
				"bins":[50,0.,1.,50,-0.5,0.5,50,0.,1.]
			},
			"conserveSumOfWeights":true,
			"postprocessing":[
				{"type":"smooth", "kernel":"adaptive", "entriesperbin":50},
				{"type":"reweight", "axes":[0,1,2]},
				{"type":"rescale","factor":1}//0.967025}//Â 0.247423/0.25586
			]
		},
		// template 0- 
		{
			"name":"template0MinusAdapSmoothMirror",
			"templatesum":[
				{"name":"template0MinusAdapSmooth","factor":1.}
			],
			"postprocessing":[
				{"type":"mirror", "axis":1},
				{"type":"floor"}
			]
		},
		// template fa3=0.5 
		{
			"name":"templateMixAdapSmooth",
			"files":[
				"ggH0+_0.root",
				"ggH0+_1.root",
				"ggH0+_2.root",
				"ggH0+_3.root",
				"ggH0+_4.root",
				"ggH0-_0.root",
				"ggH0-_1.root",
				"ggH0-_2.root",
				"ggH0-_3.root",
				"ggHL1_0.root",
				"ggHL1_1.root",
				"ggHL1_2.root",
				"ggHL1_3.root",
				"ggHL1_4.root",
				"ggHa2_0.root",
				"ggHa2_1.root",
				"ggHa2_2.root",
				"ggHa2_3.root",
				"ggHa2_4.root",
				"ggHfL10.5_0.root",
				"ggHfL10.5_1.root",
				"ggHfL10.5_2.root",
				"ggHfL10.5_3.root",
				"ggHfL10.5_4.root",
				"ggHfa20.5_0.root",
				"ggHfa20.5_1.root",
				"ggHfa20.5_2.root",
				"ggHfa20.5_3.root",
				"ggHfa20.5_4.root",
				"ggHfa30.5_0.root",
				"ggHfa30.5_1.root",
				"ggHfa30.5_2.root",
				"ggHfa30.5_3.root"
				],
			"tree":"SelectedTree",
			"variables":["D_0minus_decay","D_CP_decay","D_bkg_0plus"],
			"weight":"MC_weight_ggH_g1g4",
			"selection":"ZZMass>105 && ZZMass<140",
			"binning":{
				"type":"fixed",
				"bins":[50,0.,1.,50,-0.5,0.5,50,0.,1.]
			},
			"conserveSumOfWeights":true,
			"postprocessing":[
				{"type":"smooth", "kernel":"adaptive", "entriesperbin":50},
				{"type":"reweight", "axes":[0,1,2]},
				{"type":"rescale","factor":1}//1.98299}//0.507368/0.25586
			]
		},

		// template interference (use non-mirrored inputs), anti-mirror done afterwards
		{
			"name":"templateIntAdapSmoothMirror",
			"templatesum":[
				{"name":"templateMixAdapSmooth","factor":1.},
				{"name":"template0PlusAdapSmooth","factor":-1.},
				{"name":"template0MinusAdapSmooth","factor":-1.}
			],
			"postprocessing":[
				{"type":"mirror", "antisymmetric":true, "axis":1}
			]
		}
	]
}
